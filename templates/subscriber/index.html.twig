{% extends 'base.html.twig' %}

{% block title %}Mon compte Le R√©hausseur{% endblock %}

{% block javascripts %}
    {{ parent() }}
{% endblock %}

{% block body %}
    {% include './partials/header.html.twig' %}

    <section class="pt-6 pb-0">
        <div class="container">
            <div class="row justify-content-center pt-6">
                <div class="col-lg-7">
                    <div class="text-center mb-4">
                        <h2 class="mb-2">G√©rer <span style="color: #ff2e3d">mon compte</span></h2>
                    </div>
                    <div class="text-center mb-4">
                        {% if subscriber.isVerified == false and app.session.flashBag.has('verify_email_error') %}
                            {% for flashMessage in app.session.flashbag.get('verify_email_error') %}
                                <div class="alert alert-primary-2" role="alert">
                                    <p>
                                        ‚ö†Ô∏è Une erreur est survenue pendant la v√©rification de ton compte <br/>
                                        En cas de probl√®me, <a href="mailto:contact@lerehausseur.fr" alt="Contacter Le R√©hausseur">contactez-nous</a> :)
                                    </p>
                                </div>
                            {% endfor %}
                        {% endif %}
                        {% if subscriber.isVerified == false and not app.session.flashBag.has('send_new_activation_code') %}
                            <div class="alert alert-primary-2" role="alert">
                                <p>
                                    ‚ö†Ô∏è Tu dois encore valider ton compte avant de recevoir Le R√©hausseur<br/>
                                    Si tu n'as pas re√ßu de mail de confirmation, regarde dans tes spams ou demande un <a href="{{ path('app_send_new_activation_code') }}">nouveau lien d'activation</a>.
                                </p>
                            </div>
                        {% endif %}
                        {% if app.session.flashBag.has('send_new_activation_code') and subscriber.isVerified == false  %}
                            {% for flashMessage in app.session.flashbag.get('send_new_activation_code') %}
                                <div class="alert alert-success" role="alert">
                                    <p>
                                        Un nouveau code d'activatation a √©t√© envoy√© sur ton adresse {{ subscriber.email }} üéâ
                                    </p>
                                </div>
                            {% endfor %}
                        {% endif %}
                        {% if subscriber.isVerified == true and app.session.flashBag.has('account_activated') %}
                            {% for flashMessage in app.session.flashbag.get('account_activated') %}
                                <div class="alert alert-success" role="alert">
                                    <p>
                                        Ton compte a bien √©t√© activ√© üéâ <br /> Tu recevras tr√®s bient√¥t la prochaine newsletter Le R√©hausseur üëÄ
                                    </p>
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-7">
                    <div class="row justify-content-center pt-2 ml-1 mr-1">
                        <div class="bg-primary-alt" style="border-radius: 1rem;">
                            <table class="table table-borderless mt-2 mb-2" style="--bs-table-accent-bg: inherit">
                                <tbody>
                                    <tr>
                                        <td colspan="3"><strong>Mes informations personnelles :</strong></td>
                                    </tr>
                                    <tr>
                                        <td><small>Email :</small></td>
                                        <td>{{ subscriber.email }}</td>
                                        <td class="text-right"><a href="#">modifier</a></td>
                                    </tr>
                                    <tr>
                                        <td><small>Mot de passe :</small></th>
                                        <td>********</td>
                                        <td class="text-right"><a href="#">modifier</a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="row justify-content-center mt-4 bg-primary-alt" style="border-radius: 1rem;">
                            <table class="table table-borderless mt-2 mb-2" style="--bs-table-accent-bg: inherit">
                                <tbody>
                                    <tr>
                                        <td colspan="3" class="text-left"><strong>Mes coordonn√©es :</strong></td>
                                        <td colspan="2" class="text-right"><a href="#">modifier</a></td>
                                    </tr>
                                    <tr>
                                        <td><small>Pr√©nom :</small></td>
                                        <td colspan="2" class="text-left">{{ subscriber.firstname }}</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td><small>Ville :</small></td>
                                        <td colspan="2" class="text-left">{{ subscriber.city }}</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row justify-content-center pt-0 pb-5 ml-1 mr-1">
                        <div class="row justify-content-center mt-4 bg-primary-alt" style="border-radius: 1rem;">
                            <table class="table table-borderless mt-2 mb-2" style="--bs-table-accent-bg: inherit">
                                <tbody>
                                <tr>
                                    <td colspan="3" class="text-left"><strong>Mon abonnement :</strong></td>
                                    <td colspan="2" class="text-right text-decoration-underline"><a href="#">M'abonner</a></td>
                                </tr>
                                <tr>
                                    <td>
                                        <h4 class="text-primary ">Essai gratuit</h4>
                                        <p>Valable jusqu'au JJ/MM/AAAA</p>
                                    </td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="pt-0 pb-0">
        <div class="container">
            <div class="row justify-content-start pt-3">
                <div class="col-lg-12">
                    <div class="text-center">
                        <h2>Mes <span style="color: #ff2e3d">pr√©f√©rences de r√©ception</span></h2>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-7">
                    <div class="row justify-content-center pt-0 pb-0 ml-1 mr-1">
                        <div class="row justify-content-center mt-4 bg-primary-alt" style="border-radius: 1rem;">
                            <table class="table table-borderless mt-2 mb-2" style="--bs-table-accent-bg: inherit">
                                <tbody>
                                    <tr>
                                        <td colspan="3"><strong>Mes enfants :</strong></td>
                                    </tr>
                                    {% for child in subscriber.childs %}
                                        <tr>
                                            <td><small>Pr√©nom : </small> {{ child.firstname }}</td>
                                            <td><small>N√©(e) le </small> {{ child.birthDate|date("d/m/Y") }}</td>
                                            <td class="text-right"><a href="#">modifier</a></td>
                                        </tr>
                                    {% endfor %}
                                <tr>
                                    <td colspan="3" class="pb-4 pt-4">
                                        <a href="#" class="hover-arrow" data-toggle="modal" data-target="#discover-modal">Ajouter un enfant</a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row justify-content-center pt-0 pb-5 ml-1 mr-1">
                        <div class="row justify-content-center mt-4 bg-primary-alt" style="border-radius: 1rem;">
                            <table class="table table-borderless mt-2 mb-2" style="--bs-table-accent-bg: inherit">
                                <tbody>
                                    <tr>
                                        <td colspan="3"><strong>Mes plateformes de streaming payantes :</strong></td>
                                        <td colspan="2" class="text-right"><a href="#">modifier</a></td>
                                    </tr>
                                    {% for platform in subscriber.platforms %}
                                        <tr>
                                            <td colspan="5">{{ platform.name }}</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="pt-0 pb-0">
        <div class="container">
            <div class="row justify-content-start pt-3">
                <div class="col-lg-12">
                    <div class="text-center">
                        <h2>Partager <span style="color: #ff2e3d; font-family: 'Grand Hotel';">Le R√©hausseur</span></h2>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-7">
                    <div class="row justify-content-center pt-0 pb-5 ml-1 mr-1">
                        <div class="row justify-content-center mt-4 bg-primary-alt" style="border-radius: 1rem;">
                            <table class="table table-borderless mt-2 mb-2" style="--bs-table-accent-bg: inherit">
                                <tbody>
                                <tr>
                                    <td>
                                        <a href="#" class="hover-arrow" data-toggle="modal" data-target="#discover-modal">Offrir Le R√©hausseur √† un proche</a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <hr>
    <section class="pt-0 pb-6">
            <div class="row justify-content-center">
                <div class="col-lg-7">
                    <div class="row justify-content-center pt-2">
                        <div class="row justify-content-center text-center pt-2">
                            <a href="{{ path('app_logout') }}">Me d√©connecter</a>
                        </div>
                        <div class="row justify-content-center text-center pt-4">
                            <a href="#" class="text-black">Supprimer mon compte</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {% include './partials/footer.html.twig' with {'background':'bg-primary-alt', 'hasDivider': true} %}
{% endblock %}
